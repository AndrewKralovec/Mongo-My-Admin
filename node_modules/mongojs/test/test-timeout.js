var test = require('./tape')
var mongojs = require('../')

test('timeout', function (t) {
  t.plan(1)
  var db = mongojs('example.com/invalid', [], {connectionTimeout: 500})
  db.on('timeout', function () {
    t.ok(true, 'should time out')
  })
  db.runCommand({ping: 1}, function () {
    t.ok(false, 'should not complete')
  })
})
